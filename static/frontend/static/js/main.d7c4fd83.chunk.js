(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{39:function(e,t,s){},41:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s(19),r=s.n(n),i=s(1),c=s.n(i),o=s(10),l=(s(39),s(5)),u=s(6),d=s(9),b=s(8),h=s(7),j="CHANGE_QUIZ",p="SET_TOKEN",m="UNSET_TOKEN",O=s(4),v=function(e){Object(b.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).state={questions:e.quiz.questions},a}return Object(u.a)(s,[{key:"render",value:function(){return Object(a.jsx)("ul",{className:"mt-3 list-inside list-disc",children:this.state.questions.map((function(e){return Object(a.jsx)("li",{children:Object(a.jsx)(O.b,{to:"/questions/".concat(e.id,"/"),className:"text-blue-500 underline hover:text-blue-700 text-xl",children:e.body})},e.id)}))})}}]),s}(c.a.Component),x=s(3),f=function(e){Object(b.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).quizID=a.props.match.params.quizID,a.state={quiz:void 0,error:!1},a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat("/api","/quizzes/").concat(this.quizID,"/")).then((function(e){return e.json()})).then((function(t){e.setState({quiz:t})}),(function(t){e.setState({error:!0})}))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var s=new FormData;s.append("quiz",this.quizID),fetch("".concat("/api","/quizinstances/"),{method:"POST",headers:{Authorization:"Token ".concat(this.props.token)},body:s}).then((function(e){return e.json()})).then((function(e){t.props.dispatch({type:j,quiz_instance:e.id}),t.props.history.push("/questions/".concat(t.state.quiz.questions[0].id))}))}},{key:"render",value:function(){var e=this.state.quiz&&Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"p-5 bg-gray-200",children:[Object(a.jsx)("h1",{className:"font-semibold text-4xl",children:this.state.quiz.title}),Object(a.jsxs)("p",{className:"text-gray-500",children:["Max Allowed Time: ",this.state.quiz.max_allowed_time]}),Object(a.jsx)("form",{onSubmit:this.handleSubmit,children:Object(a.jsx)("input",{type:"submit",className:"primary-button",value:"Start Quiz"})})]}),Object(a.jsx)("div",{className:"pr-5 pl-5",children:Object(a.jsx)(v,{quiz:this.state.quiz})})]});return void 0===this.state.quiz?"":e}}]),s}(c.a.Component);var g=Object(o.b)((function(e){return{quizInstance:e.quizInstance,token:e.TOKEN}}))(Object(x.g)(f)),y=function(e){Object(b.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).state={quizList:[]},a}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat("/api","/quizzes/")).then((function(e){return e.json()})).then((function(t){return e.setState({quizList:t})}))}},{key:"render",value:function(){var e=this.state.quizList.map((function(e){return Object(a.jsx)("li",{children:Object(a.jsx)(O.b,{to:"quizzes/".concat(e.id),className:"text-blue-500 text-xl underline hover:text-blue-700",children:e.title})},e.id.toString())}));return Object(a.jsx)("div",{className:"p-3",children:Object(a.jsx)("ul",{children:e})})}}]),s}(c.a.Component),N=Object(x.g)(y);var w=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(N,{})})};var k=Object(o.b)((function(e){return{token:e.TOKEN}}))((function(e){var t=e.token?Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(O.b,{to:"/accounts/logout",className:"pr-5 hover:font-bold",children:"Logout"})})}):Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(O.b,{to:"/accounts/login",className:"pr-5 hover:font-bold",children:"Login"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(O.b,{to:"/accounts/signup",className:"pr-5 hover:font-bold",children:"Signup"})})]});return Object(a.jsxs)("nav",{className:"flex flex-row bg-black text-white p-4",children:[Object(a.jsx)(O.b,{to:"/",className:"text-xl",children:"Quiz"}),Object(a.jsxs)("ul",{className:"flex flex-row ml-4 items-center",children:[Object(a.jsx)("li",{className:"pr-5",children:Object(a.jsx)(O.b,{to:"/",className:"hover:font-bold","aria-current":"page",children:"Home"})}),t]})]})}));function S(e){var t=e.type,s=e.children;console.log(t),console.log(s);var n="p-5 text-white font-bold text-xl rounded-sm";switch(t){case"success":n+=" bg-green-500";break;case"warning":n+=" bg-yellow-500";break;case"danger":n+=" bg-red-500"}return Object(a.jsx)("div",{className:n,children:s})}var q=function(e){Object(b.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).state={question:void 0,selectedOption:void 0,explanation:void 0,nextQuestionID:void 0,correct:void 0,questionID:a.props.match.params.questionID},a.formHandler=a.formHandler.bind(Object(d.a)(a)),a.handleChange=a.handleChange.bind(Object(d.a)(a)),a}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat("/api","/questions/").concat(this.state.questionID,"/")).then((function(e){return e.json()})).then((function(t){return e.setState({question:t})}))}},{key:"componentDidUpdate",value:function(e){var t=this,s=this.props.match.params.questionID;s!==e.match.params.questionID&&(fetch("".concat("/api","/questions/").concat(s,"/")).then((function(e){return e.json()})).then((function(e){return t.setState({question:e})})),this.setState({selectedOption:void 0,explanation:void 0,nextQuestionID:void 0,correct:void 0}))}},{key:"formHandler",value:function(e){var t=this;e.preventDefault();var s={question:this.state.question.id,quiz_instance:this.props.quizInstance,selected_option:this.state.selectedOption};fetch("".concat("/api","/answers/"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(this.props.token)},body:JSON.stringify(s)}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){t.setState({explanation:e.explanation,nextQuestionID:e.next_question,correct:e.correct})})).catch((function(e){return console.log("Err!",e)}))}},{key:"handleChange",value:function(e){this.setState({selectedOption:e.target.value})}},{key:"render",value:function(){var e=this,t=void 0===this.state.question,s=this.state.explanation?Object(a.jsxs)("div",{style:{marginTop:"3rem",fontSize:"32px"},children:[Object(a.jsx)("h3",{children:"Explanation"}),this.state.explanation]}):"",n=this.state.nextQuestionID?Object(a.jsx)("button",{className:"primary-button",onClick:function(t){t.preventDefault(),e.props.history.push("/questions/".concat(e.state.nextQuestionID))},children:"Next"}):void 0;this.state.question&&null===this.state.nextQuestionID&&(n=Object(a.jsx)("button",{className:"success-button",onClick:function(t){t.preventDefault(),e.props.history.push("/result/".concat(e.props.quizInstance))},children:"Next"}));var r=void 0,i=void 0;switch(this.state.correct){case!0:r="Correct!",i="success-button";break;case!1:r="Incorrect!",i="failure-button";break;default:r="Submit",i="primary-button"}return this.props.quizInstance?t?"Loading Question":Object(a.jsx)("div",{className:"p-5",children:Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{className:"text-xl font-bold",children:this.state.question.body}),Object(a.jsxs)("form",{onSubmit:this.formHandler,children:[this.state.question.options.map((function(t,s){return Object(a.jsxs)("div",{className:"form-check mt-4",children:[Object(a.jsx)("input",{className:"bg-white",type:"radio",name:"options",onChange:e.handleChange,value:t.id,checked:e.state.selectedOption==t.id,id:"option_".concat(s)}),Object(a.jsx)("label",{className:"ml-2",htmlFor:"option_".concat(s),children:t.body})]},"option".concat(s))})),Object(a.jsx)("input",{type:"submit",disabled:this.state.correct,className:i,value:r,style:{marginTop:"1rem"}})]}),s,n]})}):Object(a.jsx)(S,{type:"danger",children:"No Quiz Instance Found! Go back to the quiz page and start it again."})}}]),s}(c.a.Component);var I=Object(x.g)(Object(o.b)((function(e){return{quizInstance:e.QUIZ_INSTANCE,token:e.TOKEN}}),null,null,{pure:!1})(q)),C=function(e){Object(b.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).state={quizInstanceID:a.props.match.params.quizInstanceID,percentage:void 0},a}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat("/api","/result/").concat(this.state.quizInstanceID,"/")).then((function(e){return e.json()})).then((function(t){e.setState({percentage:t.result.grade_percentage})})).then((function(e){return console.log("Err",e)}))}},{key:"render",value:function(){return Object(a.jsxs)("div",{style:{margin:"auto"},children:[Object(a.jsx)("h2",{children:"Quiz Result"}),Object(a.jsxs)("div",{children:[this.state.percentage,"%"]})]})}}]),s}(c.a.Component);var z=Object(x.g)(Object(o.b)((function(e){return{quizInstance:e.QUIZ_INSTANCE}}))(C)),E=s(17),D=s(12),T=function(e){Object(b.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).state={data:{username:"",email:"",password:"",password2:""},errors:Object.create(null),validationClasses:{username:"",email:"",password:"",password2:""},validationFeedback:{username:"",email:"",password:"",password2:""},response:void 0},a.message="",a.handleInputChange=a.handleInputChange.bind(Object(d.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a.setErrors=a.setErrors.bind(Object(d.a)(a)),a.resetErrors=a.resetErrors.bind(Object(d.a)(a)),a}return Object(u.a)(s,[{key:"setErrors",value:function(e){this.setState((function(t){var s=e.hasOwnProperty("username"),n=e.hasOwnProperty("email"),r=e.hasOwnProperty("password"),i=e.hasOwnProperty("password2"),c=e.hasOwnProperty("non_field_errors");return{errors:e,validationClasses:{username:s?"border-red-500":"border-green-500",email:n?"border-red-500":"border-green-500",password:r?"border-red-500":"border-green-500",password2:i?"border-red-500":"border-green-500"},validationFeedback:{username:s?Object(a.jsx)("div",{className:"invalid-feedback",children:e.username}):"",email:n?Object(a.jsx)("div",{className:"invalid-feedback",children:e.email}):"",password:r?Object(a.jsx)("div",{className:"invalid-feedback",children:e.password}):"",password2:i?Object(a.jsx)("div",{className:"invalid-feedback",children:e.password2}):""},message:c?Object(a.jsx)(S,{type:"danger",children:e.non_field_errors}):""}}))}},{key:"resetErrors",value:function(){this.setState({errors:Object.create(null),validationClasses:{username:"",email:"",password:"",password2:""},validationFeedback:{username:"",email:"",password:"",password2:""},message:void 0})}},{key:"handleInputChange",value:function(e){var t=e.target.name,s=e.target.value;this.setState((function(e){return{data:Object(D.a)(Object(D.a)({},e.data),{},Object(E.a)({},t,s))}}))}},{key:"handleSubmit",value:function(e){var t=this;fetch("".concat("/api","/accounts/signup/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.state.data)}).then((function(e){e.json().then((function(s){e.ok?(t.resetErrors(),t.setState({message:Object(a.jsx)(S,{type:"success",children:"Account created successfully!"})})):t.setErrors(s)}))})),e.preventDefault()}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"p-5",children:[Object(a.jsx)("h1",{className:"font-semibold text-4xl mb-8",children:"Signup"}),this.state.message,Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsx)("label",{htmlFor:"username",className:"box-label",children:"Username"}),Object(a.jsx)("input",{type:"text",onChange:this.handleInputChange,value:this.state.data.username,className:"textbox "+this.state.validationClasses.username,id:"username",name:"username"}),this.state.validationFeedback.username]}),Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsx)("label",{htmlFor:"email",className:"box-label",children:"Email address"}),Object(a.jsx)("input",{type:"email",onChange:this.handleInputChange,value:this.state.data.email,className:"textbox "+this.state.validationClasses.email,id:"email",name:"email","aria-describedby":"emailHelp"}),Object(a.jsx)("div",{className:"text-gray-600",children:"We'll never share your email with anyone else."}),this.state.validationFeedback.email]}),Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsx)("label",{htmlFor:"password",className:"box-label",children:"Password"}),Object(a.jsx)("input",{type:"password",onChange:this.handleInputChange,value:this.state.data.password,className:"textbox "+this.state.validationClasses.password,name:"password",id:"password"}),this.state.validationFeedback.password]}),Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsx)("label",{htmlFor:"password2",className:"box-label",children:"Confirm Password"}),Object(a.jsx)("input",{type:"password",onChange:this.handleInputChange,value:this.state.data.password2,className:"textbox "+this.state.validationClasses.password2,name:"password2",id:"password2"}),this.state.validationFeedback.password2]}),Object(a.jsx)("button",{type:"submit",className:"primary-button",children:"Signup"})]})]})}}]),s}(c.a.Component),_=function(e){Object(b.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).state={data:{username:"",password:""},errors:Object.create(null),validationClasses:{username:"",password:""},validationFeedback:{username:"",password:""},response:void 0},a.message="",a.handleInputChange=a.handleInputChange.bind(Object(d.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a.setErrors=a.setErrors.bind(Object(d.a)(a)),a.resetErrors=a.resetErrors.bind(Object(d.a)(a)),a}return Object(u.a)(s,[{key:"setErrors",value:function(e){this.setState((function(t){var s=e.hasOwnProperty("username"),n=e.hasOwnProperty("password"),r=e.hasOwnProperty("non_field_errors");return{errors:e,validationClasses:{username:s?"border-red-500":"border-green-500",password:n?"border-red-500":"border-green-500"},validationFeedback:{username:s?Object(a.jsx)("div",{className:"text-red-500 font-bold",children:e.username}):"",password:n?Object(a.jsx)("div",{className:"text-red-500 font-bold",children:e.password}):""},message:r?Object(a.jsx)(S,{type:"danger",children:e.non_field_errors}):""}}))}},{key:"resetErrors",value:function(){this.setState({errors:Object.create(null),validationClasses:{username:"",password:""},validationFeedback:{username:"",password:""},message:void 0})}},{key:"handleInputChange",value:function(e){var t=e.target.name,s=e.target.value;this.setState((function(e){return{data:Object(D.a)(Object(D.a)({},e.data),{},Object(E.a)({},t,s))}}))}},{key:"handleSubmit",value:function(e){var t=this;fetch("".concat("/api","/accounts/login/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.state.data)}).then((function(e){e.json().then((function(s){e.ok?(t.resetErrors(),t.setState({message:Object(a.jsx)(S,{type:"success",children:"Login Successfull! Redirecting to homepage in 5 seconds...."})}),t.props.dispatch({type:p,token:s.token}),window.setTimeout((function(){return t.props.history.push("/")}),5e3)):t.setErrors(s)}))})),e.preventDefault()}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"p-5",children:[Object(a.jsx)("h1",{className:"font-semibold text-4xl mb-8",children:"Login"}),this.state.message,Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(a.jsxs)("div",{className:"mt-4",children:[Object(a.jsx)("label",{htmlFor:"username",className:"box-label",children:"Username"}),Object(a.jsx)("input",{type:"text",onChange:this.handleInputChange,value:this.state.data.username,className:"textbox "+this.state.validationClasses.username,id:"username",name:"username"}),this.state.validationFeedback.username]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"password",className:"box-label",children:"Password"}),Object(a.jsx)("input",{type:"password",onChange:this.handleInputChange,value:this.state.data.password,className:"textbox "+this.state.validationClasses.password,name:"password",id:"password"}),this.state.validationFeedback.password]}),Object(a.jsx)("button",{type:"submit",className:"primary-button",children:"Login"})]})]})}}]),s}(c.a.Component);var F=Object(x.g)(Object(o.b)((function(e){return{token:e.TOKEN}}))(_)),P=s(22),Q=function(e){Object(b.a)(s,e);var t=Object(h.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){var e=this,t=this.props,s=t.children,n=Object(P.a)(t,["children"]);return Object(a.jsx)(x.b,Object(D.a)(Object(D.a)({},n),{},{render:function(t){t.location;return e.props.token?s:Object(a.jsx)(x.a,{to:"/accounts/login"})}}))}}]),s}(c.a.Component);var K=Object(x.g)(Object(o.b)((function(e){return{token:e.TOKEN}}))(Q)),L=function(e){Object(b.a)(s,e);var t=Object(h.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){var e=this;return fetch("".concat("/api","/accounts/logout/"),{method:"POST",headers:{Authorization:"Token ".concat(this.props.token)}}).then((function(t){if(t.ok||401===t.status)return e.props.dispatch({type:m}),Object(a.jsx)(x.a,{to:"/"})})),Object(a.jsx)(x.a,{to:"/"})}}]),s}(c.a.Component);var U=Object(o.b)((function(e){return{token:e.TOKEN}}))(L);function A(){return Object(a.jsxs)(O.a,{children:[Object(a.jsx)(k,{}),Object(a.jsxs)(x.d,{children:[Object(a.jsx)(x.b,{path:"/quizzes/:quizID",children:Object(a.jsx)(g,{})}),Object(a.jsx)(K,{path:"/questions/:questionID",children:Object(a.jsx)(I,{})}),Object(a.jsx)(x.b,{path:"/result/:quizInstanceID",children:Object(a.jsx)(z,{})}),Object(a.jsx)(K,{path:"/accounts/logout",children:Object(a.jsx)(U,{})}),Object(a.jsx)(x.b,{path:"/accounts/signup",children:Object(a.jsx)(T,{})}),Object(a.jsx)(x.b,{path:"/accounts/login",children:Object(a.jsx)(F,{})}),Object(a.jsx)(x.b,{path:"/",children:Object(a.jsx)(w,{})})]})]})}var H=s(21),J={};var M=localStorage.getItem("reduxStore")?JSON.parse(localStorage.getItem("reduxStore")):{},R=Object(H.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(D.a)(Object(D.a)({},e),{},{QUIZ_INSTANCE:t.quiz_instance});case p:return Object(D.a)(Object(D.a)({},e),{},{TOKEN:t.token});case m:e.TOKEN;var s=Object(P.a)(e,["TOKEN"]);return s;default:return e}}),M,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());R.subscribe((function(){return localStorage.setItem("reduxStore",JSON.stringify(R.getState()))}));var X=R;r.a.render(Object(a.jsx)(o.a,{store:X,children:Object(a.jsx)(A,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.d7c4fd83.chunk.js.map